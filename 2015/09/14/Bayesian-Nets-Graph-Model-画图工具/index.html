<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Bayesian Nets/Graph Model 画图工具 | Yet Another Blog</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/4.2.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.0/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.0.0/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Bayesian Nets/Graph Model 画图工具</h1><a id="logo" href="/.">Yet Another Blog</a><p class="description">Something on Programming.</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/notes/"><i class="fa fa-book"> 知乎文章</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Bayesian Nets/Graph Model 画图工具</h1><div class="post-meta">Sep 14, 2015<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><a data-thread-key="2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" href="/2015/09/14/Bayesian-Nets-Graph-Model-画图工具/#comments" class="ds-thread-count"></a><div class="post-content"><p>这几天在赶论文deadline，由于是第一次写论文，要学的真不少:(</p>
<p>论文和LDA有关，肯定少不了要在tex中插入LDA图模型，用什么工具画图呢？</p>
<p>1 <a href="https://github.com/jluttine/tikz-bayesnet" target="_blank" rel="external">tikz-bayesnet</a><br>一句话介绍bayesnet: TikZ library for drawing Bayesian networks, graphical models and (directed) factor graphs in LaTeX.<br>这个也是我这次使用的,语法非常简单。</p>
<p>bayesnet支持以下结点(node)类型:</p>
<ul>
<li>latent</li>
<li>obs</li>
<li>det</li>
<li>const</li>
<li>factor</li>
<li>plate</li>
<li>gate</li>
</ul>
<p>使用时一共也就7类命令:</p>
<ul>
<li>\factor [options] {factorname}{caption}{inputs}{outpus}</li>
<li>\plate [options] {platename}{fitlist}{caption}</li>
<li>\gate [options] {gatename}{fitlist}{inputs}</li>
<li>\vgate {vgatename}{fitlist-left}{caption-left}{fitlist-right}{caption-right}{inputs}</li>
<li>\hgate {hgatename}{fitlist-top}{caption-top}{fitlist-bottom}{caption-bottom}{inputs}</li>
<li>\edge [options] {inputs}{outputs}</li>
<li>\factoredge [options] {inputs}{factors}{outputs}</li>
</ul>
<p>看到这里，你可能会被options, caption, fitlist等各种参数绕晕，别急，我们来看一个例子，使用时非常简单滴.</p>
<p>让我们来画一个LDA流程图.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">\documentclass[11pt]&#123;report&#125;</div><div class="line">\usepackage&#123;tikz&#125;</div><div class="line">\usetikzlibrary&#123;bayesnet&#125;</div><div class="line">\begin&#123;document&#125;</div><div class="line">    \begin&#123;figure&#125;</div><div class="line">      \centering</div><div class="line">      \tikz&#123; %</div><div class="line"></div><div class="line">		\node [latent](beta)&#123;$\beta$&#125;; %</div><div class="line">		\node [latent, right=1.1 of beta](phi)&#123;$\phi_&#123;k&#125;$&#125;; %</div><div class="line">		\node [obs, right=1.3 of phi](w) &#123;$w_&#123;m,n&#125;$&#125;; %</div><div class="line">		\node [latent, above=1.2 of w](z) &#123;$z_&#123;m,n&#125;$&#125;; %</div><div class="line">		\node [latent, above=1.2 of z](theta)&#123;$\theta_&#123;m&#125;$&#125;;</div><div class="line">		\node [latent, left=1.2 of theta](alpha)&#123;$\alpha$&#125;;</div><div class="line"></div><div class="line">		\plate [inner sep=0.2cm, xshift=-0.08cm, yshift=0.18cm]&#123;plate1&#125;&#123;(phi)&#125;&#123;$k\in[1, K]$&#125;;</div><div class="line">		\plate [inner sep=0.15cm, xshift=0.1cm, yshift=0.12cm]&#123;plate2&#125;&#123;(z)(w)&#125; &#123;$n\in[1,N_&#123;m&#125;]$&#125;;</div><div class="line"></div><div class="line">		\plate [inner sep=0.25cm, xshift=-0.02cm, yshift=0cm]&#123;plate3&#125;&#123;(theta)(plate2)&#125;&#123;$m\in[1, M]$&#125;;</div><div class="line">		</div><div class="line">		\edge &#123;alpha&#125;&#123;theta&#125;;</div><div class="line">		\edge &#123;theta&#125;&#123;z&#125;;</div><div class="line">		\edge &#123;beta&#125;&#123;phi&#125;;</div><div class="line">		\edge &#123;phi, z&#125;&#123;w&#125;;</div><div class="line">      &#125;</div><div class="line">    \end&#123;figure&#125;</div><div class="line">    \end&#123;document&#125;</div></pre></td></tr></table></figure><br><img src="https://ooo.0o0.ooo/2015/09/14/55f67a8a66685.png" alt=""><br>大概是因为使用起来实在很简单, 作者并没有提供document, 你可以仔细看看作者提供的几个examples, 相信聪明的你肯定会掌握:)</p>
<p>2 <a href="http://daft-pgm.org/examples/weaklensing/" target="_blank" rel="external">DAFT</a></p>
<p>一句话介绍：Render some probabilistic graphical models using matplotlib.<br>我看了下example, 使用起来也非常简单.<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> rc</div><div class="line">rc(<span class="string">"font"</span>, family=<span class="string">"serif"</span>, size=<span class="number">12</span>)</div><div class="line">rc(<span class="string">"text"</span>, usetex=<span class="keyword">True</span>)</div><div class="line">rc(<span class="string">"./weaklensing.tex"</span>)</div><div class="line"></div><div class="line"><span class="keyword">import</span> daft</div><div class="line"></div><div class="line">pgm = daft.PGM([<span class="number">4.7</span>, <span class="number">2.35</span>], origin=[<span class="number">-1.35</span>, <span class="number">2.2</span>])</div><div class="line">pgm.add_node(daft.Node(<span class="string">"Omega"</span>, <span class="string">r"$\Omega$"</span>, <span class="number">-1</span>, <span class="number">4</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"gamma"</span>, <span class="string">r"$\gamma$"</span>, <span class="number">0</span>, <span class="number">4</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"obs"</span>, <span class="string">r"$\epsilon^&#123;\mathrm&#123;obs&#125;&#125;_n$"</span>, <span class="number">1</span>, <span class="number">4</span>, observed=<span class="keyword">True</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"alpha"</span>, <span class="string">r"$\alpha$"</span>, <span class="number">3</span>, <span class="number">4</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"true"</span>, <span class="string">r"$\epsilon^&#123;\mathrm&#123;true&#125;&#125;_n$"</span>, <span class="number">2</span>, <span class="number">4</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"sigma"</span>, <span class="string">r"$\sigma_n$"</span>, <span class="number">1</span>, <span class="number">3</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"Sigma"</span>, <span class="string">r"$\Sigma$"</span>, <span class="number">0</span>, <span class="number">3</span>))</div><div class="line">pgm.add_node(daft.Node(<span class="string">"x"</span>, <span class="string">r"$x_n$"</span>, <span class="number">2</span>, <span class="number">3</span>, observed=<span class="keyword">True</span>))</div><div class="line">pgm.add_plate(daft.Plate([<span class="number">0.5</span>, <span class="number">2.25</span>, <span class="number">2</span>, <span class="number">2.25</span>],</div><div class="line">        label=<span class="string">r"galaxies $n$"</span>))</div><div class="line">pgm.add_edge(<span class="string">"Omega"</span>, <span class="string">"gamma"</span>)</div><div class="line">pgm.add_edge(<span class="string">"gamma"</span>, <span class="string">"obs"</span>)</div><div class="line">pgm.add_edge(<span class="string">"alpha"</span>, <span class="string">"true"</span>)</div><div class="line">pgm.add_edge(<span class="string">"true"</span>, <span class="string">"obs"</span>)</div><div class="line">pgm.add_edge(<span class="string">"x"</span>, <span class="string">"obs"</span>)</div><div class="line">pgm.add_edge(<span class="string">"Sigma"</span>, <span class="string">"sigma"</span>)</div><div class="line">pgm.add_edge(<span class="string">"sigma"</span>, <span class="string">"obs"</span>)</div><div class="line">pgm.render()</div><div class="line">pgm.figure.savefig(<span class="string">"weaklensing.pdf"</span>)</div><div class="line">pgm.figure.savefig(<span class="string">"weaklensing.png"</span>, dpi=<span class="number">150</span>)</div></pre></td></tr></table></figure><br><img src="https://ooo.0o0.ooo/2015/09/14/55f67bc250eb7.png" alt=""><br>嗯, python果然很强大, 以后有时间玩一下.</p>
<p>3 <a href="http://www.graphviz.org/" target="_blank" rel="external">Graphvie</a></p>
<p>What is Graphviz? Graphviz is open source graph visualization software. Graph visualization is a way of representing structural information as diagrams of abstract graphs and networks. It has important applications in networking, bioinformatics,  software engineering, database and web design, machine learning, and in visual interfaces for other technical domains. </p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://basicv8vc.github.io/2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" data-id="cjqqj0xav0000acpovktlr5ty" class="article-share-link">分享到</a><div class="tags"><a href="/tags/LaTeX/">LaTeX</a></div><div class="post-nav"><a href="/2016/07/08/Gradient-Boosting-从入门到调包-入门篇/" class="pre">Gradient Boosting 从入门到调包 (入门篇)</a></div><div data-thread-key="2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" data-title="Bayesian Nets/Graph Model 画图工具" data-url="https://basicv8vc.github.io/2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" class="ds-share flat"><div class="ds-share-inline"><ul class="ds-share-icons-16"><li data-toggle="ds-share-icons-more"><a href="javascript:void(0);" class="ds-more">分享到：</a></li><li><a href="javascript:void(0);" data-service="weibo" class="ds-weibo">微博</a></li><li><a href="javascript:void(0);" data-service="qzone" class="ds-qzone">QQ空间</a></li><li><a href="javascript:void(0);" data-service="qqt" class="ds-qqt">腾讯微博</a></li><li><a href="javascript:void(0);" data-service="wechat" class="ds-wechat">微信</a></li></ul><div class="ds-share-icons-more"></div></div></div><div data-thread-key="2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" data-title="Bayesian Nets/Graph Model 画图工具" data-url="https://basicv8vc.github.io/2015/09/14/Bayesian-Nets-Graph-Model-画图工具/" data-author-key="1" class="ds-thread"></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/LaTeX/" style="font-size: 15px;">LaTeX</a> <a href="/tags/机器学习/" style="font-size: 15px;">机器学习</a> <a href="/tags/Gradient-Boosting/" style="font-size: 15px;">Gradient Boosting</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/聚类/" style="font-size: 15px;">聚类</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2016/12/08/使用pdb调试Pyton代码/">使用pdb调试Python代码</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/Java内存模型/">Java内存模型</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/19/K-Means从入门到调包/">K-Means从入门到调包</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/08/Gradient-Boosting-从入门到调包-调包篇/">Gradient Boosting 从入门到调包 (调包篇)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/08/Gradient-Boosting-从入门到调包-入门篇/">Gradient Boosting 从入门到调包 (入门篇)</a></li><li class="post-list-item"><a class="post-list-link" href="/2015/09/14/Bayesian-Nets-Graph-Model-画图工具/">Bayesian Nets/Graph Model 画图工具</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.weibo.com/basicvbvc/" title="微博" target="_blank">微博</a><ul></ul><a href="https://www.zhihu.com/people/basicv8vc/activities" title="知乎" target="_blank">知乎</a><ul></ul><a href="https://github.com/basicv8vc" title="GitHub" target="_blank">GitHub</a><ul></ul><a href="https://legacy.gitbook.com/@ljalphabeta" title="GitBook" target="_blank">GitBook</a><ul></ul><a href="https://scholar.google.com/citations?user=aX-JO4cAAAAJ&amp;hl=en" title="Google Scholar" target="_blank">Google Scholar</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">Yet Another Blog.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script>var duoshuoQuery = {short_name:'lscdabc'};
(function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0]
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
</script><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create','UA-39855248-3','auto');ga('send','pageview');
</script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>