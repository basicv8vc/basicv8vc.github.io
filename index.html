<!doctype html><html lang=en dir=auto><head><meta name=generator content="Hugo 0.97.3"><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Yet Another Blog</title><meta name=keywords content="Blog,Portfolio,PaperMod"><meta name=description content="Hello World"><meta name=author content><link rel=canonical href=https://basicv8vc.github.io/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ed52a04cba0843fef8297e018b15e8a32a989ea4415133cb8bf77414d3815f7b.css integrity="sha256-7VKgTLoIQ/74KX4BixXooyqYnqRBUTPLi/d0FNOBX3s=" rel="preload stylesheet" as=style><link rel=icon href=https://basicv8vc.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://basicv8vc.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://basicv8vc.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://basicv8vc.github.io/apple-touch-icon.png><link rel=mask-icon href=https://basicv8vc.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://basicv8vc.github.io/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin=anonymous onload=renderMathInElement(document.body)></script><meta property="og:title" content="Yet Another Blog"><meta property="og:description" content="Hello World"><meta property="og:type" content="website"><meta property="og:url" content="https://basicv8vc.github.io/"><meta property="og:image" content="https://basicv8vc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://basicv8vc.github.io/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Yet Another Blog"><meta name=twitter:description content="Hello World"><script type=application/ld+json>{"@context":"https://schema.org","@type":"Organization","name":"Yet Another Blog","url":"https://basicv8vc.github.io/","description":"Hello World","thumbnailUrl":"https://basicv8vc.github.io/favicon.ico","sameAs":["https://github.com/basicv8vc","https://www.zhihu.com/people/basicv8vc","https://twitter.com/b4s1cv8vc1"]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://basicv8vc.github.io/ accesskey=h title="basicv8vc (Alt + H)">basicv8vc</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://basicv8vc.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class="first-entry home-info"><header class=entry-header><h1>Hi</h1></header><div class=entry-content><p></p></div><footer class=entry-footer><div class=social-icons><a href=https://github.com/basicv8vc target=_blank rel="noopener noreferrer me" title=Github><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a><a href=https://www.zhihu.com/people/basicv8vc target=_blank rel="noopener noreferrer me" title=Zhihu><svg class="svg-icon" style="width:2em;height:2em;fill:currentColor;overflow:hidden" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path d="M351.791182 562.469462h192.945407c0-45.367257-21.3871-71.939449-21.3871-71.939449L355.897709 490.530013c3.977591-82.182744 7.541767-187.659007 8.816806-226.835262h159.282726s-.86367-67.402109-18.578124-67.402109-279.979646.0-279.979646.0 16.850783-88.141456 39.318494-127.053698c0 0-83.60514-4.510734-112.121614 106.962104S81.344656 355.077018 76.80834 367.390461s24.62791 5.832845 36.941354.0c12.313443-5.832845 68.050885-25.924439 84.252893-103.69571h86.570681c1.165546 49.28652 4.596691 200.335724 3.515057 226.835262H109.86113c-25.275663 18.147312-33.701566 71.939449-33.701566 71.939449H279.868105c-8.497535 56.255235-23.417339 128.763642-44.275389 167.210279-33.05279 60.921511-50.55235 116.65793-169.802314 212.576513.0.0-19.442818 14.257725 40.829917 9.073656 60.273758-5.185093 117.305683-20.739347 156.840094-99.807147 20.553105-41.107233 41.805128-93.250824 58.386782-146.138358l-.055259.185218 167.855986 193.263655s22.035876-51.847855 5.832845-108.880803L371.045711 650.610918l-42.1244 31.157627-.045025.151449c11.69946-41.020252 20.11206-81.5749 22.726607-116.858498C351.665315 564.212152 351.72876 563.345412 351.791182 562.469462z"/><path d="M584.918753 182.033893v668.840094h70.318532l28.807093 80.512708 121.875768-80.512708h153.600307L959.520453 182.033893h-374.6017zM887.150192 778.934538h-79.837326l-99.578949 65.782216-23.537066-65.782216h-24.855084L659.341766 256.673847h227.807403V778.934538z"/></svg></a><a href=https://twitter.com/b4s1cv8vc1 target=_blank rel="noopener noreferrer me" title=Twitter><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></div></footer></article><article class=post-entry><header class=entry-header><h2>å›¾è§£OneFlowä¸­çš„å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥</h2></header><div class=entry-content><p>èƒŒæ™¯ å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥ï¼ˆlearning rate schedulerï¼‰ï¼Œå…¶å®å•ç‹¬æ‹å‡ºæ¯ä¸€ä¸ªæ¥çœ‹éƒ½ä¸éš¾ï¼Œä½†æ˜¯ç”±äºæ–¹æ³•è¾ƒå¤šï¼Œä¸Šæ¥å°±çœ‹æ–‡æ¡£å®¹æ˜“ä¸€å¤´é›¾æ°´ï¼Œ ä»¥OneFlow v0.7.0ä¸ºä¾‹ï¼Œoneflow.optim.lr_scheduleræ¨¡å—ä¸­å°±åŒ…å«äº†14ç§ç­–ç•¥ã€‚
æœ‰æ²¡æœ‰ä¸€ç§æ›´å¥½çš„æ–¹æ³•æ¥å­¦ä¹ å‘¢ï¼Ÿæ¯”å¦‚å¯è§†åŒ–å‡ºå­¦ä¹ ç‡çš„å˜åŒ–è¿‡ç¨‹ï¼Œæ­¤æ—¶ï¼Œæˆ‘è„‘æµ·ä¸­çªç„¶æµ®ç°å‡ºConvolution arithmeticè¿™ä¸ªç»å…¸é¡¹ç›®ï¼Œä½œè€…å°†å„ç§CNNå·ç§¯æ“ä½œä»¥gifå½¢å¼å±•ç¤ºï¼Œä¸€ç›®äº†ç„¶ã€‚
æ‰€ä»¥ï¼Œå°±æœ‰äº†è¿™ç¯‡æ–‡ç« ï¼Œå°†å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥å¯è§†åŒ–å‡ºæ¥ï¼Œä¸‹é¢æ˜¯ä¸¤ä¸ªä¾‹å­ï¼ˆConstantLRå’ŒLinearLRï¼‰ï¼š
æˆ‘å°†å¯è§†åŒ–ä»£ç åˆ†åˆ«æ‰˜ç®¡åœ¨Hugging Face Spaceså’ŒStreamlit Cloudï¼Œå»ºè®®å¤§å®¶è®¿é—®ç¬¬ä¸€ä¸ªé“¾æ¥ï¼Œç„¶åè‡ªç”±è°ƒèŠ‚å‚æ•°ï¼Œæ„Ÿå—å­¦ä¹ ç‡çš„å˜åŒ–è¿‡ç¨‹ã€‚
Hugging Face Spaceç‰ˆæœ¬
Streamlit Cloudç‰ˆæœ¬
å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥ å­¦ä¹ ç‡å¯ä»¥è¯´æ˜¯è®­ç»ƒç¥ç»ç½‘ç»œè¿‡ç¨‹ä¸­æœ€é‡è¦çš„å‚æ•°ï¼ˆä¹‹ä¸€ï¼‰ï¼Œç›®å‰å¤§å®¶éƒ½å·²æ¥å—ç”¨åŠ¨æ€å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥æ¥ä»£æ›¿å›ºå®šå­¦ä¹ ç‡ï¼Œå„ç§å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥å±‚å‡ºä¸ç©·ï¼Œä¸‹é¢æˆ‘ä»¬å°±ä»¥OneFlow v0.7.0ä¸ºä¾‹ï¼Œå­¦ä¹ ä¸‹å¸¸ç”¨çš„å‡ ç§ç­–ç•¥ã€‚
åŸºç±»LRScheduler LRScheduler(optimizer: Optimizer, last_step: int = -1, verbose: bool = False)æ˜¯æ‰€æœ‰å­¦ä¹ ç‡è°ƒåº¦å™¨çš„åŸºç±»ï¼Œåˆå§‹åŒ–å‚æ•°ä¸­last_stepå’Œverboseä¸€èˆ¬ä¸éœ€è¦è®¾ç½®ï¼Œå‰è€…ä¸»è¦å’Œcheckpointç›¸å…³ï¼Œåè€…åˆ™æ˜¯æ‰“å°å½“å‰å­¦ä¹ ç‡ã€‚LRSchedulerä¸­æœ€é‡è¦çš„æ–¹æ³•æ˜¯step()ï¼Œè¿™ä¸ªæ–¹æ³•çš„ä½œç”¨å°±æ˜¯ä¿®æ”¹ç”¨æˆ·è®¾ç½®çš„åˆå§‹å­¦ä¹ ç‡ï¼Œç„¶ååº”ç”¨åˆ°ä¸‹ä¸€æ¬¡çš„Optimizer.step()ã€‚
æœ‰äº›èµ„æ–™ä¼šè®²LRScheduleræ ¹æ®epochæˆ–iteration/stepæ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œä¸¤ç§è¯´æ³•éƒ½æ²¡é—®é¢˜ï¼Œå®é™…ä¸Šï¼ŒLRSchedulerå¹¶ä¸çŸ¥é“å½“å‰è®­ç»ƒåˆ°ç¬¬å‡ ä¸ªepochæˆ–ç¬¬å‡ ä¸ªiteration/stepï¼Œåªè®°å½•äº†è°ƒç”¨step()çš„æ¬¡æ•°ï¼ˆlast_stepï¼‰ï¼Œå¦‚æœæ¯ä¸ªepochè°ƒç”¨ä¸€æ¬¡ï¼Œé‚£å°±æ˜¯æ ¹æ®epochæ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œå¦‚æœæ¯ä¸ªmini-batch è°ƒç”¨ä¸€æ¬¡ï¼Œé‚£å°±æ˜¯æ ¹æ®iterationæ¥è°ƒæ•´å­¦ä¹ ç‡ï¼Œä»¥Transformerä¸ºä¾‹ï¼Œä½¿ç”¨çš„æ˜¯åè€…ã€‚
ç®€å•æ¥è¯´ï¼ŒLRScheduleræ ¹æ®è°ƒæ•´ç­–ç•¥æœ¬èº«ã€å½“å‰è°ƒç”¨step()çš„æ¬¡æ•°ï¼ˆlast_stepï¼‰å’Œç”¨æˆ·è®¾ç½®çš„åˆå§‹å­¦ä¹ ç‡æ¥å¾—åˆ°ä¸‹ä¸€æ¬¡æ¢¯åº¦æ›´æ–°æ—¶çš„å­¦ä¹ ç‡ã€‚
ConstantLR oneflow.optim.lr_scheduler.ConstantLR( optimizer: Optimizer, factor: float = 1.0 / 3, total_iters: int = 5, last_step: int = -1, verbose: bool = False ) ConstantLRå’Œå›ºå®šå­¦ä¹ ç‡å·®ä¸å¤šï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åœ¨å‰total_itersï¼Œå­¦ä¹ ç‡ä¸ºåˆå§‹å­¦ä¹ ç‡ * factorã€‚
æ³¨æ„ï¼šç”±äºfactorå–å€¼[0, 1]ï¼Œæ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå­¦ä¹ ç‡é€’å¢çš„ç­–ç•¥ã€‚...</p></div><footer class=entry-footer><span title="2022-06-05 22:50:29 +0800 CST">June 5, 2022</span>&nbsp;Â·&nbsp;2 min</footer><a class=entry-link aria-label="post link to å›¾è§£OneFlowä¸­çš„å­¦ä¹ ç‡è°ƒæ•´ç­–ç•¥" href=https://basicv8vc.github.io/posts/oneflow-lrscheduler-visualization/></a></article><article class=post-entry><header class=entry-header><h2>DeepSpeedä¹‹ZeROç³»åˆ—ï¼šå°†æ˜¾å­˜ä¼˜åŒ–è¿›è¡Œåˆ°åº•</h2></header><div class=entry-content><p>å‰è¨€ ç›®å‰è®­ç»ƒè¶…å¤§è§„æ¨¡è¯­è¨€æ¨¡å‹ä¸»è¦æœ‰ä¸¤æ¡æŠ€æœ¯è·¯çº¿ï¼šTPU + XLA + TensorFlow/JAX å’Œ GPU + PyTorch + Megatron-LM + DeepSpeedã€‚å‰è€…ç”±Googleä¸»å¯¼ï¼Œç”±äºTPUå’Œè‡ªå®¶äº‘å¹³å°GCPæ·±åº¦ç»‘å®šï¼Œå¯¹äºéGoogleræ¥è¯´ï¼Œ åªå¯è¿œè§‚è€Œä¸å¯æŠŠç©ï¼Œåè€…èƒŒååˆ™æœ‰NVIDIAã€Metaã€MSå¤§å‚åŠ æŒï¼Œç¤¾åŒºæ°›å›´æ´»è·ƒï¼Œä¹Ÿæ›´å—åˆ°ç¾¤ä¼—æ¬¢è¿ã€‚
ä¸Šé¢æåˆ°çš„DeepSpeedçš„æ ¸å¿ƒæ˜¯ZeRO(Zero Redundancy Optimizer)ï¼Œç®€å•æ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ç§æ˜¾å­˜ä¼˜åŒ–çš„æ•°æ®å¹¶è¡Œ(data parallelism, DP)æ–¹æ¡ˆã€‚è€Œâ€œä¼˜åŒ–â€œè¿™ä¸ªè¯é¢˜åˆæ°¸æ— æ­¢å¢ƒï¼Œåœ¨è¿‡å»ä¸¤å¹´DeepSpeedå›¢é˜Ÿå‘è¡¨äº†ä¸‰ç¯‡ZeROç›¸å…³çš„è®ºæ–‡ï¼Œæå‡ºäº†å»é™¤å†—ä½™å‚æ•°ã€å¼•å…¥CPUå’Œå†…å­˜ã€å¼•å…¥NVMeç­‰æ–¹æ³•ï¼Œä»å§‹è‡³ç»ˆéƒ½å›´ç»•ç€ä¸€ä¸ªç›®æ ‡ï¼šå°†æ˜¾å­˜ä¼˜åŒ–è¿›è¡Œåˆ°åº•ã€‚
ZeRO: ä¸€ç§å»é™¤å†—ä½™çš„æ•°æ®å¹¶è¡Œæ–¹æ¡ˆ ZeRO: Memory Optimizations Toward Training Trillion Parameter Models å‘è¡¨åœ¨SC 20ï¼ŒDeepSpeedé¡¹ç›®æœ€åˆå°±æ˜¯è®ºæ–‡ä¸­ZeROæ–¹æ³•çš„å®˜æ–¹å®ç°ã€‚
èƒŒæ™¯ å¦‚ä»Šè®­ç»ƒå¤§æ¨¡å‹ç¦»ä¸å¼€å„ç§åˆ†å¸ƒå¼å¹¶è¡Œç­–ç•¥ï¼Œå¸¸ç”¨çš„å¹¶è¡Œç­–ç•¥åŒ…æ‹¬ï¼š
æ•°æ®å¹¶è¡Œï¼ˆdata parallelism, DPï¼‰ï¼šå‡è®¾æœ‰ \(N\) å¼ å¡ï¼Œæ¯å¼ å¡éƒ½ä¿å­˜ä¸€ä¸ªæ¨¡å‹ï¼Œæ¯ä¸€æ¬¡è¿­ä»£ï¼ˆiteration/stepï¼‰éƒ½å°†batchæ•°æ®åˆ†å‰²æˆ \(N\) ä¸ªç­‰å¤§å°çš„micro-batchï¼Œæ¯å¼ å¡æ ¹æ®æ‹¿åˆ°çš„micro-batchæ•°æ®ç‹¬ç«‹è®¡ç®—æ¢¯åº¦ï¼Œç„¶åè°ƒç”¨AllReduceè®¡ç®—æ¢¯åº¦å‡å€¼ï¼Œæ¯å¼ å¡å†ç‹¬ç«‹è¿›è¡Œå‚æ•°æ›´æ–°ã€‚ # https://huggingface.co/docs/transformers/parallelism#model-parallelism # å‡è®¾æ¨¡å‹æœ‰ä¸‰å±‚ï¼šL0, L1, L2 # æ¯å±‚æœ‰ä¸¤ä¸ªç¥ç»å…ƒ # ä¸¤å¼ å¡ GPU0: L0 | L1 | L2 ---|----|--- a0 | b0 | c0 a1 | b1 | c1 GPU1: L0 | L1 | L2 ---|----|--- a0 | b0 | c0 a1 | b1 | c1 æ¨¡å‹å¹¶è¡Œï¼ˆmodel parallelism/tensor parallelism, MP/TPï¼‰ï¼šæœ‰çš„tensor/layerå¾ˆå¤§ï¼Œä¸€å¼ å¡æ”¾ä¸ä¸‹ï¼Œå°†tensoråˆ†å‰²æˆå¤šå—ï¼Œä¸€å¼ å¡å­˜ä¸€å—ã€‚ # https://huggingface....</p></div><footer class=entry-footer><span title="2022-05-14 23:20:54 +0800 CST">May 14, 2022</span>&nbsp;Â·&nbsp;3 min</footer><a class=entry-link aria-label="post link to DeepSpeedä¹‹ZeROç³»åˆ—ï¼šå°†æ˜¾å­˜ä¼˜åŒ–è¿›è¡Œåˆ°åº•" href=https://basicv8vc.github.io/posts/zero/></a></article><article class=post-entry><header class=entry-header><h2>Hugging FaceğŸ¤— : NLPæ˜æ˜Ÿåˆ›ä¸šå…¬å¸æ˜¯å¦‚ä½•ç‚¼æˆçš„</h2></header><div class=entry-content><p>2016å¹´ï¼Œä¸¤ä½æ³•å›½äººæ€€æ£ç€å¯¹èŠå¤©æœºå™¨äºº(chatbot)è¡Œä¸šæœªæ¥çš„ç¾å¥½å‘å¾€ï¼Œåˆ›ç«‹äº†Hugging Face ğŸ¤—ï¼Œæ¬¡å¹´æ¨å‡ºäº†ä¸€æ¬¾å’Œå…¬å¸åŒåçš„æœºå™¨äººèŠå¤©Appã€‚æœ€åˆï¼Œä»–ä»¬åªæ˜¯æƒ³ä¸ºæ— èŠçš„å¹´è½»äººæä¾›ä¸€ä¸ªæ‰“å‘æ—¶é—´çš„åœ°æ–¹ï¼Œ"Its entire purpose is to be fun" å¯æ˜¯ä¸è®ºæ˜¯ä»æŠ€æœ¯éš¾åº¦è¿˜æ˜¯å•†ä¸šæ¨¡å¼ä¸Šçœ‹ï¼Œåœ¨2016å¹´çš„æ—¶é—´ç‚¹é€‰æ‹©åšå¼€æ”¾é¢†åŸŸçš„é—²èŠæœºå™¨äººï¼Œéƒ½ä¸æ˜¯ä¸€ä¸ªæ˜æ™ºé€‰æ‹©ã€‚ æ—¶é—´æ¥åˆ°äº†2018å¹´10æœˆ29å·ï¼Œè¿™ä¸€å¤©å…¬å¸é¦–å¸­ç§‘å­¦å®¶Thomas Wolfåœ¨GitHubä¸Šåˆ›å»ºäº†ä¸€ä¸ªåä¸ºpytorch-pretrained-BERTçš„é¡¹ç›®ï¼Œæäº¤äº†ç¬¬ä¸€ä¸ªcommitï¼Œè¿™ä¸ªé¡¹ç›®æœ€åˆçš„ç›®çš„æ˜¯å¦‚æ­¤ç®€å•ï¼Œå°†GoogleåŸºäºtensorflowå®ç°çš„BERTæ¨¡å‹ç”¨pytorchè¿›è¡Œäº†é‡å†™ï¼Œå¹¶ä¸”å¯ä»¥åŠ è½½Googleå…¬å¼€çš„æ¨¡å‹å‚æ•°ã€‚ä½†æ˜¯ï¼Œé¡¹ç›®çš„ç«çƒ­ç¨‹åº¦è¶…å‡ºäº†æ‰€æœ‰äººçš„é¢„æœŸï¼ŒHugging Faceä¹Ÿåœ¨å¼€æºæ¨¡å¼ä¸­ä¸€è·¯é«˜æ­ŒçŒ›è¿›ï¼Œé¡ºåˆ©å®Œæˆäº†å…¬å¸è½¬å‹ï¼Œæˆä¸ºäº†å½“ä¸‹NLPé¢†åŸŸæœ€ç«çš„åˆ›ä¸šå…¬å¸ï¼ˆä¹‹ä¸€ï¼‰ã€‚
å…¥å±€èŠå¤©æœºå™¨äºº ç°åœ¨å½“ä½ æ‰“å¼€Hugging Faceçš„å®˜ç½‘ï¼Œæ˜ å…¥çœ¼å¸˜çš„éƒ½æ˜¯"AI community"ã€â€œSOTA modelsâ€ã€â€œOpen Source"ç­‰è¯æ±‡ï¼Œæˆ–è®¸å¾ˆå¤šäººéƒ½ä¸çŸ¥é“ï¼Œè¿™æ›¾ç»æ˜¯ä¸€å®¶åšèŠå¤©æœºå™¨äºº(chatbot)çš„å…¬å¸ï¼Œè€Œä¸”åšçš„è¿˜æ˜¯å¼€æ”¾é¢†åŸŸ(open domain)çš„é—²èŠæœºå™¨äººï¼Œå¯¹ï¼Œå°±æ˜¯ç±»ä¼¼å¾®è½¯å°å†°ï¼Œè®©æˆ‘ä»¬æŠŠæ—¶é—´çº¿æ‹¨å›2016å¹´ã€‚
Clem Delangue1å’ŒJulien Chaumond2ä¸€èµ·å‚åŠ äº†é£æŠ•æœºæ„Betaworksä¸¾åŠçš„BotcampåŠ é€Ÿå™¨é¡¹ç›®ï¼Œä¸“é—¨ä¸ºèŠå¤©æœºå™¨äººåˆ›ä¸šå…¬å¸æä¾›æŒ‡å¯¼ï¼Œåœ¨æ­¤æœŸé—´ï¼ˆæˆ–è€…æ›´æ—©ï¼Ÿï¼‰ä»–ä»¬ä¿©åˆ›ç«‹äº†Hugging Face3ï¼Œç ”å‘ä¸€æ¬¾ä¸ºé’å°‘å¹´æ‰“å‘æ—¶é—´æ‰¾ç‚¹ä¹å­çš„é™ªèŠå‹æœºå™¨äººï¼Œä¸è®ºæ˜¯å…¬å¸åå­—ï¼ˆæ¥è‡ªäºemojiè¡¨æƒ…ï¼‰è¿˜æ˜¯äº§å“ï¼Œç”»é£éƒ½æ—¢ä¸å•†ä¸š(Enterprise)ä¹Ÿä¸ä¸¥è‚ƒï¼Œä»è¿™æ®µæ—¶é—´çš„PRæ¥çœ‹ï¼Œä»–ä»¬åšä¿¡AI friendæ˜¯å¤§æœ‰æœªæ¥çš„ï¼ŒWe really have this vision where we think everyone will have an AI friend and everyone will discuss things every day with Hugging Face, so thatâ€™s really what weâ€™re focused on right now and for the next few years4
å·¦è¾¹ æ˜¯CTO Julien Chaumondï¼Œå³è¾¹ æ˜¯CEO Clem Delangue åœ¨2017å¹´3æœˆ9å·ï¼Œä»–ä»¬åœ¨iOS App Storeæ­£å¼æ¨å‡ºäº†Hugging Face Appï¼Œäº§å“çš„ç•Œé¢æ˜¯è¿™æ ·çš„ï¼š...</p></div><footer class=entry-footer><span title="2022-04-21 19:09:35 +0800 CST">April 21, 2022</span>&nbsp;Â·&nbsp;2 min</footer><a class=entry-link aria-label="post link to Hugging FaceğŸ¤— : NLPæ˜æ˜Ÿåˆ›ä¸šå…¬å¸æ˜¯å¦‚ä½•ç‚¼æˆçš„" href=https://basicv8vc.github.io/posts/huggingface/></a></article><article class=post-entry><header class=entry-header><h2>K-Meansä»å…¥é—¨åˆ°è°ƒåŒ…</h2></header><div class=entry-content><p>åœ¨åšæ•°æ®æŒ–æ˜é¡¹ç›®æ—¶ï¼Œæ‹¿åˆ°æ•°æ®ï¼Œé¦–å…ˆè¦åˆ†æé—®é¢˜å’Œè§‚å¯Ÿæ•°æ®ï¼Œæˆ‘åœ¨â€œè§‚å¯Ÿæ•°æ®â€è¿™ä¸€é˜¶æ®µä¸»è¦æ˜¯çœ‹çœ‹æœ‰æ²¡æœ‰ç›´è§‚çš„æ•°æ®è§„å¾‹ä»¥åŠå¼‚å¸¸ç‚¹ï¼Œå¯¹äºé‚£äº›ç‰¹å¾ç»´åº¦è¾ƒä½çš„æ•°æ®ï¼Œæ¯”å¦‚ä»…ä»…2ç»´ï¼Œæˆ‘é€‰æ‹©ç”»æ•£ç‚¹å›¾è§‚å¯Ÿï¼Œé«˜çº¬åº¦æ•°æ®å¯ä»¥ç”¨t-SNEé™ç»´åå†ç”»å›¾ã€‚é™¤äº†å¯è§†åŒ–ï¼Œèšç±»ç®—æ³•ä¹Ÿæ˜¯æ‰¾åˆ°å¼‚å¸¸ç‚¹çš„å¸¸ç”¨æ‰‹æ®µä¹‹ä¸€ã€‚
è¿™ç¯‡åšå®¢ä»‹ç»ä¸€ç§æœ€åŸºæœ¬çš„èšç±»ç®—æ³•ï¼šK-Meansã€‚
ç®—æ³•æè¿°ä¸EM èšç±»ç®—æ³•çš„ä½œç”¨æ˜¯å°†æ•°æ®é›†è‡ªåŠ¨åˆ’åˆ†ä¸ºå¤šä¸ªä¸åŒçš„é›†åˆã€‚ K-Meansç®—æ³•æ˜¯å…¸å‹çš„æ— ç›‘ç£ç®—æ³•ï¼Œå¯¹äºæ•°æ®é›†\(D\), æˆ‘ä»¬è®¾å®šå‚æ•°k(kä¸ªé›†åˆ)ï¼Œå¥¹å°±èƒ½è‡ªåŠ¨åœ°å­¦ä¹ å‡ºkä¸ªç±»åˆ«ï¼Œç®€å•åˆç¥å¥‡ã€‚é‚£ä¹ˆK-Meansæ˜¯å¦‚ä½•å­¦ä¹ åˆ°è¿™kä¸ªé›†åˆå‘¢ï¼Ÿä¸“ä¸šä¸€ç‚¹è¯´å°±æ˜¯ï¼ŒK-Meansçš„ç›®æ ‡å‡½æ•°æ˜¯å•¥ï¼Ÿå¦‚ä½•ä¼˜åŒ–å¥¹çš„ç›®æ ‡å‡½æ•°ï¼Ÿå…ˆå›ç­”ç¬¬ä¸€ä¸ªé—®é¢˜ï¼Œä¸‹é¢å°±æ˜¯K-Meansçš„ç›®æ ‡å‡½æ•°ï¼š
ç‰©ç†æ„ä¹‰ï¼šæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°çš„kä¸ªé›†åˆï¼Œæ¯ä¸ªé›†åˆå†…çš„ç‚¹éƒ½è·ç¦»æ­¤é›†åˆå†…å¹³å‡å€¼ç‚¹æœ€è¿‘(æ¯ä¸ªé›†åˆä¸­çš„ç‚¹éƒ½ç´§å¯†å›¢ç»“åœ¨ä¸€èµ·)ã€‚
çŸ¥é“äº†ç›®æ ‡å‡½æ•°ï¼Œä¸‹ä¸€æ­¥å°±è¦è€ƒè™‘å¦‚ä½•æ±‚è§£ï¼Œæœ€å¸¸è§çš„æ±‚è§£æ–¹æ³•æ˜¯Lloydç®—æ³•ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨EMç®—æ³•ï¼Œæ³¨æ„ï¼ŒLloydç®—æ³•å¾—åˆ°çš„ç»“æœæ˜¯å±€éƒ¨æå°å€¼è€Œä¸æ˜¯å…¨å±€æœ€å°å€¼å“¦ã€‚
EMç®—æ³•æ±‚è§£æ­¥éª¤å¾ˆç®€å•ï¼Œæ€»å…±åˆ†ä¸‰æ­¥ï¼š
å°†æ‰€æœ‰æ•°æ®ç‚¹éƒ½åˆ†é…åˆ°æŸä¸ªé›†åˆ -> è®¡ç®—æ¯ä¸ªç‚¹åˆ°é›†åˆå¹³å‡å€¼ç‚¹çš„æ¬§æ°è·ç¦» è®¡ç®—æ¯ä¸ªé›†åˆå†…ç‚¹çš„å¹³å‡å€¼ -> è®¡ç®—æ¯ä¸ªç‰¹å¾çš„å¹³å‡å€¼ é‡å¤ä¸Šé¢ä¸¤æ­¥ç›´åˆ°å±€éƒ¨æ”¶æ•› -> å‰åä¸¤æ¬¡è¿­ä»£çš„é›†åˆç»“æœç›¸åŒ ä¸Šé¢çš„ä¸‰æ­¥æ¦‚æ‹¬èµ·æ¥å°±æ˜¯ E->M->E->M->â€¦â€¦â€¦..
import numpy as np from collections import defaultdict from random import uniform class KMeans(object): """ kmeans èšç±»ç®—ç®— """ def __init__(self): pass def cluster(self, X, k, initializer="random"): self.X = X self.k = k self.centers = defaultdict(list) self.assignment = np.zeros(self.X.shape[0]) #è®°å½•æ¯ä¸ªæ ·æœ¬å±äºå“ªä¸ªä¸­å¿ƒç‚¹ if initializer == "random": self._initialize() #åˆå§‹åŒ–å¾—åˆ°kä¸ªç‚¹ elif initializer == "kmeans++": self....</p></div><footer class=entry-footer><span title="2016-07-19 11:12:58 +0000 +0000">July 19, 2016</span>&nbsp;Â·&nbsp;2 min</footer><a class=entry-link aria-label="post link to K-Meansä»å…¥é—¨åˆ°è°ƒåŒ…" href=https://basicv8vc.github.io/posts/k-means%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%B0%83%E5%8C%85/></a></article><article class=post-entry><header class=entry-header><h2>Gradient Boosting ä»å…¥é—¨åˆ°è°ƒåŒ… (è°ƒåŒ…ç¯‡)</h2></header><div class=entry-content><p>Gradient Boostingçš„å¼€æºå®ç°å¾ˆå¤šï¼Œå½“ç„¶é¦–é€‰è¿˜æ˜¯XGBoostã€‚è°ƒåŒ…ï¼Œå°±æ˜¯å­¦ä¹ APIçš„è¿‡ç¨‹ï¼Œæœ€å¥½çš„å­¦ä¹ èµ„æ–™å°±æ˜¯å®˜æ–¹æ–‡æ¡£ä»¥åŠdemoã€‚æˆ‘è¿™é‡ŒæŠŠåŸºæœ¬çš„è°ƒç”¨ç½—åˆ—å‡ºæ¥:
xgboostè°ƒåŒ…ä¹‹ åŸºç¡€ç¯‡.ipynb
xgboostè°ƒåŒ…ä¹‹ æ¨¡å‹ç¯‡.ipynb
xgboostè°ƒåŒ…ä¹‹ sklearnæ¥å£.ipynb
xgboostè°ƒåŒ…ä¹‹ ç‰¹å¾é‡è¦æ€§å¯è§†åŒ–.ipynb
xgboostè°ƒåŒ…ä¹‹ early stopping.ipynb
xgboostè°ƒåŒ…ä¹‹ ç»“åˆpandas.ipynb</p></div><footer class=entry-footer><span title="2016-07-09 21:36:18 +0000 +0000">July 9, 2016</span>&nbsp;Â·&nbsp;1 min</footer><a class=entry-link aria-label="post link to Gradient Boosting ä»å…¥é—¨åˆ°è°ƒåŒ… (è°ƒåŒ…ç¯‡)" href=https://basicv8vc.github.io/posts/gradient-boosting-%E4%BB%8E%E5%85%A5%E9%97%A8%E5%88%B0%E8%B0%83%E5%8C%85-%E8%B0%83%E5%8C%85%E7%AF%87/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://basicv8vc.github.io/page/2/>Next Page Â»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://basicv8vc.github.io/>Yet Another Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>